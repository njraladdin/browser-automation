


test without the sekeleton view 
test with image 
being able to see and extract data on a page not just interative elements 
test by extrracintg listings from airbnb / extract list of followers on instagram 
save autoamtion flow 
being able to rerun a step 
-----
fix selecting elements not working on airbnb (simplfy, keep array on backend, use polling in frontend)
----

try another appraoch: 


currenty: extraction isn't working well by writing code to extract data 

selection is not necessary anymore, remove it 

only get interactive elements that are currently visible on the page 

so for automation : provide interactive map of visible elements on the page / source of current sivile elements on the page 
for data extraction : the AI writes a prompt on the data to extract, then it uses a function that calls another gemini request with full source of page (cleaned) 


the interactive map: for the ai to know what he's bale to interact with 
the page source: for the ai to know what exists on the page (content)

problem: 
airbnb website has very long selectors + huge source


todo: 
remove selection done
compress selectors, and decompress it in result code done
make the page source only contain  the contents and links (or as a new view, to be safe) done
create a functino taht woudl recevie the page content and the prompt, and output the json (use gemini flash 8b) done 
make the AI be able to detect that ishoudl use the function and use it in case of need for data extraction done 
display extracted data in frontend, done 
AI shoudl have acess to extracted data (number, first item and last item), done 
keep screenshot preview of the page in frontend and send it after each step, done 
you can create and save flows, done 
you can play a single step, done 
make step UI conssitent before and after adding (same layout), done 
run websocket server to easily track what's happening in the backend (to easily debug what's going on evne when backend is deployed), done 
add timeout to close the browser after 20 minutes of intilizing a flow, done 
create profile, so flows are connected to each user profile (for simplciity, user creates / signs it with just his username), done 
add your own gemini key to the project, done 
be bale to delete a step , done 
allow ai to colelct data and push it to frontend, nto just the extract function, done 
remove html from dom changes. simplfy dom change structure nad remove redudant elements (liek selector appearing twice), done 
test functino that finds dynamic selectors using ai (with anonyig benchmark, to actually open a modal, get media element and close the modal), done 
only depend on ai the first time, then use the selector generated by ai to do the rest of the automation, done 
implement  code generation, done 
fix shadow dom selectors, done 
reset when browser is closed, done 
simplfy step state and emitting status (after start : running, after : succes or error). socket messgae only emit message, don't affect colors or state, done 
close browser when websocket connection for that flow is closed, done 
make getting new content and interactive map work properly, done 
fix selecti nputs, add all options, done 


fix browser intiilizing status messazges not working 

run each benchmark, troubleshoot and improve :
- go to anonymiosu instagram stories, open each story modal and get all stories posts :
    Problem: buttons do not have text, and AI is choosing wrong button selector to submit search, DONE 
       Solutions: 
         send image of page and label each element + add nearby text to each element

    Problem: an error might face the scritp while running due to some change in page structure / it clicks on wrong elements  DONE
      Solutions: 
        for dynamic elements, allow AI to use a function to find selector from latest page dom

- go to airbnb,scroll to load all listings, extract all listings details 
    Problem: page source is huge. stuck at taking page snapshot, DONE 
       Soltuion: optimize map generation

    Problem: handle infinite scroll for full page, DONE 
       Solutions: 
         add function to extract structured content but only from  new elements on the page (then clear latest changes) 

    Problem: extracting content using AI takes too long when infinite scrolling 
       Solutions: 
          optimize content map size in prompt 
          send more frequent progress updates to frontend


- go to twitter profile, and extract list of posts until you get 100
    Problem: we did not get every single tweet, and some do not contain all detail, DONE
    Solution: 
        use flash instead of flash-8b + compare preivous ocntnet map vs newer content map to get new content hybrid with dom monitoring 


benchmarks: 
- go to anonymiosu instagram stories, and scrape latest stories media, DONE 
- go to airbnb, handle infinite scroll and extract 1000 listings details, DONE 
- go to twitter profile, and extract list of posts until you get 100, DONE 
- create a facebook account 


so i have an idea. see hwo to extract data, we havea function extractStructuredContentUsingAI that bascially uses gmieni to feed it the whole content then it outptus it in a structured format. this works, and we also use it for infinite loading. so this works but it's slow. im thinking of trying something : if the data we want on the page is in predictbael structure, like a listing or a tbale or wahtever, why not use the other function 
